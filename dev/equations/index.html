<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Equations · JuMag.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">JuMag.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">JuMag.jl</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li class="is-active"><a class="tocitem" href>Equations</a><ul class="internal"><li><a class="tocitem" href="#Energies-and-effective-field-1"><span>Energies and effective field</span></a></li><li><a class="tocitem" href="#LLG-equation-1"><span>LLG equation</span></a></li><li><a class="tocitem" href="#LLG-equation-with-extensions-1"><span>LLG equation with extensions</span></a></li><li><a class="tocitem" href="#SLLG-equation-1"><span>SLLG equation</span></a></li><li><a class="tocitem" href="#Steepest-descent-method-1"><span>Steepest descent method</span></a></li><li><a class="tocitem" href="#Monte-Carlo-Simulation-1"><span>Monte Carlo Simulation</span></a></li><li><a class="tocitem" href="#NEB-(Nudged-elastic-band)-1"><span>NEB (Nudged elastic band)</span></a></li><li><a class="tocitem" href="#Eigenvalue-Method-1"><span>Eigenvalue Method</span></a></li></ul></li><li><a class="tocitem" href="../notes/">Notes</a></li><li><a class="tocitem" href="../functions/">References</a></li><li><a class="tocitem" href="../questions/">Questions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Equations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Equations</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ww1g11/JuMagDocs.jl/blob/master/docs/src/equations.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Equations-1"><a class="docs-heading-anchor" href="#Equations-1">Equations</a><a class="docs-heading-anchor-permalink" href="#Equations-1" title="Permalink"></a></h1><h2 id="Energies-and-effective-field-1"><a class="docs-heading-anchor" href="#Energies-and-effective-field-1">Energies and effective field</a><a class="docs-heading-anchor-permalink" href="#Energies-and-effective-field-1" title="Permalink"></a></h2><h4 id="Atomistic-spin-model-1"><a class="docs-heading-anchor" href="#Atomistic-spin-model-1">Atomistic spin model</a><a class="docs-heading-anchor-permalink" href="#Atomistic-spin-model-1" title="Permalink"></a></h4><p>In the atomistic spin model, the effective field can be computed from</p><div>\[\mathbf{H}_{\mathrm{eff}}=-\frac{1}{\mu_s} \frac{\partial \mathcal{H}}{\partial \mathbf{m}}\]</div><p>where <span>$\mathcal{H}$</span> is the total Hamiltonian including the exchange interaction, Dzyaloshinskii-Moriya interaction, dipolar interaction, anisotropy interaction and Zeeman interaction. The exchange interaction is given by</p><div>\[\mathcal{H}_\mathrm{ex} = -J \sum_{\langle i, j\rangle} \vec{m}_{i} \cdot \vec{m}_{j}\]</div><p>and the Dzyaloshinskii-Moriya interaction reads</p><div>\[\mathcal{H}_\mathrm{dmi} =  \sum_{\langle i, j\rangle}  \vec{D}_{i j} \cdot\left(\vec{m}_{i} \times \vec{m}_{j}\right)\]</div><p>and anisotropy</p><div>\[\mathcal{H}_\mathrm{an} = - K \sum_{i}\left(m_{i}^{z}\right)^{2}\]</div><p>and the zeeman field</p><div>\[\mathcal{H}_\mathrm{ze} =  - \mu_s \vec{m}_i \cdot \vec{H}\]</div><h4 id="Micromagnetic-model-1"><a class="docs-heading-anchor" href="#Micromagnetic-model-1">Micromagnetic model</a><a class="docs-heading-anchor-permalink" href="#Micromagnetic-model-1" title="Permalink"></a></h4><p>In micromagnetics, the effective field can be computed from the total micromagnetic energy</p><div>\[\vec{H}_{\mathrm{eff}}=-\frac{1}{\mu_{0} M_{s}} \frac{\delta E}{\delta \vec{m}}\]</div><p>The typical energy terms are</p><ul><li><p><strong>Exchange energy</strong></p><div>\[E_\mathrm{ex} = \int_{V} A (\nabla \vec{m})^2 \mathrm{d}V\]</div><p>where <span>$(\nabla \vec{m})^{2}=\left(\nabla m_{x}\right)^{2}+\left(\nabla m_{y}\right)^{2}+\left(\nabla m_{z}\right)^{2}$</span>. So the corresponding effective field is</p><div>\[\vec{H}_{\mathrm{ex}}=\frac{2 A}{\mu_{0} M_{s}} \nabla^{2} \vec{m}\]</div></li><li><p><strong>Zeeman energy</strong></p><div>\[E_\mathrm{ex} = -  \mu_0 \int_{V}  \vec{H} \cdot \vec{M} \mathrm{d}V\]</div><p>as expected, the effective field is <span>$\vec{H}$</span>.</p></li><li><p><strong>Anisotropy</strong></p><p>The uniaxial anisotropy energy is given by</p><div>\[E_\mathrm{anis} = -\int_{V} K_{u} (\vec{m} \cdot \hat{u})^2 \, dV\]</div><p>from which the effective field can be computed as</p><div>\[\vec{H}_{\mathrm{an}}=\frac{2 K_u}{\mu_0 M_s}\left(\vec{m} \cdot \hat{u}\right) \hat{u}\]</div></li><li><p><strong>Cubic Anisotropy</strong></p><p>The cubic anisotropy energy is given by</p><div>\[E_\mathrm{cubic} = -\int_{V} K_c (m_x^4 + m_y^4 + m_z^4) \, dV\]</div><p>and thus the corresponding effective field reads</p><div>\[\vec{H}_{\mathrm{cubic}}= \frac{4 K_c}{\mu_0 M_s}  
\left( m_x^3 \mathbf{e}_x + m_y^3 \mathbf{e}_y + m_z^3 \mathbf{e}_z \right)\]</div></li><li><p><strong>Bulk DMI energy</strong> The Bulk DMI energy reads</p><div>\[E_{\mathrm{dmi}} = \int_V D \vec{m} \cdot (\nabla \times \vec{m}) \, \mathrm{d}V\]</div><p>so the effective field is</p><div>\[\vec{H}_\mathrm{D}=-\frac{2 D}{\mu_{0} M_{s}}(\nabla \times \vec{m})\]</div></li><li><p><strong>Magnetostatic energy</strong></p><div>\[E_{\mathrm{d}}=-\frac{\mu_{0}}{2} \int_{V} \vec{H}_{\mathrm{d}}(\mathbf{r}) \cdot
\vec{M}(\mathbf{r}) d V\]</div><div>\[\vec{H}_{\mathrm{d}}(\mathbf{r})=\frac{1}{4 \pi}\left(\int_{V} \rho_{m}\left(\mathbf{r}^{\prime}\right) \frac{\mathbf{r}-\mathbf{r}^{\prime}}{\left|\mathbf{r}-\mathbf{r}^{\prime}\right|^{3}} \mathrm{d}^{3} r^{\prime}+\int_{S} \sigma_{m}\left(\mathbf{r}^{\prime}\right) \frac{\mathbf{r}-\mathbf{r}^{\prime}}{\left|\mathbf{r}-\mathbf{r}^{\prime}\right|^{3}} \mathrm{d}^{2} r^{\prime}\right)\]</div></li></ul><h2 id="LLG-equation-1"><a class="docs-heading-anchor" href="#LLG-equation-1">LLG equation</a><a class="docs-heading-anchor-permalink" href="#LLG-equation-1" title="Permalink"></a></h2><p>The driver <code>LLG</code> solves the standard LLG equation, which can be written as</p><div>\[\frac{\partial \vec{m}}{\partial t} = - \gamma \vec{m} \times \vec{H} + \alpha \vec{m} \times  \frac{\partial \vec{m}}{\partial t}\]</div><p>and the corresponding LL form is given by</p><div>\[(1+\alpha^2)\frac{\partial \vec{m}}{\partial t} = - \gamma \vec{m} \times \vec{H} - \alpha \gamma \vec{m} \times (\vec{m} \times \vec{H})\]</div><h2 id="LLG-equation-with-extensions-1"><a class="docs-heading-anchor" href="#LLG-equation-with-extensions-1">LLG equation with extensions</a><a class="docs-heading-anchor-permalink" href="#LLG-equation-with-extensions-1" title="Permalink"></a></h2><p>The driver <code>LLG_STT</code> implements the LLG equation with zhang-li extension</p><div>\[\frac{\partial \vec{m}}{\partial t} = - \gamma \vec{m} \times \vec{H} + \alpha \vec{m} \times  \frac{\partial \vec{m}}{\partial t}
+ (\vec{u} \cdot \nabla) \vec{m} - \beta [\vec{m}\times (\vec{u} \cdot \nabla)\vec{m}]\]</div><p>and the driver <code>LLG_CPP</code> implements the LLG equation with spin transfer torque for the current-perpendicular-to-plane (CPP) case,</p><div>\[\frac{\partial \vec{m}}{\partial t} = - \gamma \vec{m} \times \vec{H} + \alpha \vec{m} \times  \frac{\partial \vec{m}}{\partial t} - a_J \vec{m} \times (\vec{m} \times \vec{p})
 -  b_J \vec{m} \times \vec{p}\]</div><p>The spin valve structures and  spin orbit torques can use the <code>LLG_CPP</code> driver.</p><p>The driver <code>LLG_STT_CPP</code> has put them together,</p><div>\[\frac{\partial \vec{m}}{\partial t} = - \gamma \vec{m} \times \vec{H} + \alpha \vec{m} \times  \frac{\partial \vec{m}}{\partial t}
+ (\vec{u} \cdot \nabla) \vec{m} - \beta [\vec{m}\times (\vec{u} \cdot \nabla)\vec{m}] - a_J \vec{m} \times (\vec{m} \times \vec{p})
 -  b_J \vec{m} \times \vec{p}\]</div><h2 id="SLLG-equation-1"><a class="docs-heading-anchor" href="#SLLG-equation-1">SLLG equation</a><a class="docs-heading-anchor-permalink" href="#SLLG-equation-1" title="Permalink"></a></h2><p>The SLLG equation, i.e., LLG equation including the stochastic field <span>$\mathbf{b}$</span>, is given by</p><div>\[\frac{\partial \mathbf{m}}{\partial t} = - \gamma \mathbf{m} \times (\mathbf{H}_\mathrm{eff} +\mathbf{b}) + \alpha \mathbf{m} \times  \frac{\partial \mathbf{m}}{\partial t}\]</div><p>The thermal fluctuation is assumed to be a Gaussian white noise, i.e., the thermal noise <span>$\mathbf{b}$</span> obeys the  properties</p><div>\[\left&lt; \mathbf{b} \right&gt; = 0, \;\;\; \left&lt; \mathbf{b}_i^u,\mathbf{b}_j^v \right&gt; = 2 D \delta_{ij} \delta_{uv}\]</div><p>where <span>$i$</span> and <span>$j$</span> are Cartesian indices, <span>$u$</span> and <span>$v$</span> indicate the magnetization components and <span>$\left&lt; \cdot , \cdot \right&gt;$</span> represents the average taken over different realizations of the fluctuating field. And</p><div>\[D = \frac{\alpha k_B T}{\gamma \mu_s}.\]</div><p>For the micromagnetic case, <span>$D$</span> is given as</p><div>\[D = \frac{\alpha k_B T}{\mu_0 M_s \gamma \Delta V}.\]</div><p>which is equivalent to a stochastic field  </p><div>\[\mathbf{b}^u = \eta \sqrt \frac{2 \alpha k_B T}{\mu_0 M_s \gamma \Delta V dt}\]</div><p>where <span>$\eta$</span> is a random number follows the normal distribution.</p><h2 id="Steepest-descent-method-1"><a class="docs-heading-anchor" href="#Steepest-descent-method-1">Steepest descent method</a><a class="docs-heading-anchor-permalink" href="#Steepest-descent-method-1" title="Permalink"></a></h2><p>We provide a steepest descent energy minimization method for a complicated system, which is of the form</p><div>\[x_{k+1} = x_k + \alpha_k d_k\]</div><p>where</p><div>\[d_k = - \nabla f(x_k)\]</div><p>And for the micromagnetics, we have</p><div>\[\mathbf{m}_{k+1} = \mathbf{m}_{k} - {\tau}_k \mathbf{m}_k  \times (\mathbf{m}_k \times \mathbf{H}_{\mathrm{eff}})\]</div><p>In practice, we use the following update rule to keep the magnetization vector normalized.</p><div>\[\boldsymbol{m}_{k+1}=\boldsymbol{m}_{k}-{\tau}_k \frac{\boldsymbol{m}_{k}+\boldsymbol{m}_{k+1}}{2} \times\left(\boldsymbol{m}_{k} \times \boldsymbol{H}_{\mathrm{eff}}\left(\boldsymbol{m}_{k}\right)\right)\]</div><div>\[\boldsymbol{m}_{k+1}^2 = \boldsymbol{m}_{k}^2\]</div><p>From the equation we have:</p><div>\[(1+\frac{{\tau}_k^2}{4} \boldsymbol{f}_k^2)\mathbf{m}_{k+1} =
(1-\frac{{\tau}_k^2}{4} \boldsymbol{f}_k^2)\mathbf{m}_{k} -  {\tau}_k \mathbf{g}_k\]</div><p>where</p><div>\[\begin{aligned}
\mathbf{f}_k&amp; = \mathbf{m}_k \times \mathbf{H}_{\mathrm{eff}}
\\\boldsymbol{g}_{k} &amp;=\boldsymbol{m}_{k} \times\left(\boldsymbol{m}_{k} \times \boldsymbol{H}_{\mathrm{eff}}\right)
\end{aligned}\]</div><p>The step size <span>$\tau_k$</span> can be computed by</p><div>\[\tau_{k}^{1}=\frac{\sum_{i} \boldsymbol{s}_{k-1}^{i} \cdot \boldsymbol{s}_{k-1}^{i}}{\sum_{i} \boldsymbol{s}_{k-1}^{i} \cdot \boldsymbol{y}_{k-1}^{i}} \quad, \quad \tau_{k}^{2}=\frac{\sum_{i} \boldsymbol{s}_{k-1}^{i} \cdot \boldsymbol{y}_{k-1}^{i}}{\sum_{i} \boldsymbol{y}_{k-1}^{i} \cdot \boldsymbol{y}_{k-1}^{i}}\]</div><p>where</p><div>\[\begin{aligned}  \boldsymbol{s}_{k-1} &amp;=\boldsymbol{m}_{k}-\boldsymbol{m}_{k-1} \\ \boldsymbol{y}_{k-1} &amp;=\boldsymbol{g}_{k}-\boldsymbol{g}_{k-1} \end{aligned}\]</div><h2 id="Monte-Carlo-Simulation-1"><a class="docs-heading-anchor" href="#Monte-Carlo-Simulation-1">Monte Carlo Simulation</a><a class="docs-heading-anchor-permalink" href="#Monte-Carlo-Simulation-1" title="Permalink"></a></h2><p>For cubic mesh, the implemented energy reads</p><div>\[\mathcal{H} = - J \sum_{\langle \langle i, j\rangle \rangle} \vec{m}_{i} \cdot \vec{m}_{j}
+\sum_{\langle \langle i, j \rangle \rangle }  \vec{D}_{i j} \cdot\left(\vec{m}_{i} \times \vec{m}_{j}\right)
- K \sum_{i}\left(\vec{u} \cdot \vec{m}_i\right)^2 - \sum_{i} \vec{H} \cdot \vec{m}_i\]</div><p>where <span>$\vec{m}_i$</span> is unit vector of the classical spin at site <em>i</em>.</p><p>For triangular mesh (2D), the system energy reads</p><div>\[H= \sum_{\langle i, j\rangle}  \vec{D}_{i j} \cdot\left(\vec{S}_{i} \times \vec{S}_{j}\right)
-J \sum_{\langle i, j\rangle} \vec{S}_{i} \cdot \vec{S}_{j}- \lambda \sum_{\langle i, j\rangle} S_{i}^{z} S_{j}^{z}
-K \sum_{i}\left(S_{i}^{z}\right)^{2}\]</div><p>where</p><div>\[\vec{D}_{i j} = D \hat{z} \times \hat{r}_{ij}  + D_z^{j} \hat{z}\]</div><h2 id="NEB-(Nudged-elastic-band)-1"><a class="docs-heading-anchor" href="#NEB-(Nudged-elastic-band)-1">NEB (Nudged elastic band)</a><a class="docs-heading-anchor-permalink" href="#NEB-(Nudged-elastic-band)-1" title="Permalink"></a></h2><p>NEB is a chain method to find the MEP (minimum energy path) between two states. To start, we need to construct a chain including several images (each image is a copy of the magnetization) and then relax the system. Two ends images that corresponding to the initial and final states will be pinned as they are the energy states given by the users. The system contain all free images will be relaxed to reduce the total energy, which is very similar to the case that relaxing the magnetic system using LLG equation if one disables the precession term. One significant difference is that the effective field in LLG equation is the functional derivative of the system energy with respect to magnetization while in NEB the effective field of image <em>n</em> should also contain the influence of its neighbours (i.e., the images <em>n-1</em> and <em>n+1</em>). This influence is described by the so-called tangents: only the perpendicaular part of the effective field is kept when relaxing the whole system.</p><p>Assume that the whole system has <em>N</em> images</p><div>\[\mathbf{Z} = [\mathbf{Y}_1, \mathbf{Y}_2, ..., \mathbf{Y}_N]\]</div><p>where</p><div>\[\mathbf{Y}_i = [m_{1x}, m_{1y}, m_{1z}, ..., m_{nx}, m_{ny}, m_{nz}]\]</div><p>each image has <em>n</em> spins. To relax the system, we could solve the equation</p><div>\[\frac{\mathbf{Y}_i}{\partial t} = - \mathbf{Y}_i \times (\mathbf{Y}_i \times \mathbf{G}_i)\]</div><p>where <span>$\mathbf{G}_i$</span> is effective field that can be computed as</p><div>\[\mathbf{Y}_i = \mathbf{H}_i - (\mathbf{H}_i \cdot \mathbf{t}_i) \mathbf{t}_i +  \mathbf{F}_i\]</div><p>The <span>$\mathbf{H}_i$</span> is the normal micromagnetic effective field, <span>$\mathbf{t}_i$</span> is the tangent and <span>$\mathbf{F}_i$</span> is a force that can be used to adjust the distance between images.</p><div>\[ \mathbf{F}_i = k (|\mathbf{Y}_{i+1}-\mathbf{Y}_{i}|-|\mathbf{Y}_{i}-\mathbf{Y}_{i-1}|) \mathbf{t}_i\]</div><p>The distance bewteen images <span>$\mathbf{Y}_{i}$</span> and <span>$\mathbf{Y}_{j}$</span> is defined as</p><div>\[ L = \left [ \sum_k (L_k^{i,j})^2 \right ] ^{1/2}\]</div><p>where <span>$L_k^{i,j}$</span> is the geodesic distance of point <code>k</code> that can be computed using Vincenty&#39;s formula.</p><p>The tangents can be computed as follows</p><div>\[\mathbf{t}_i^+ =  \mathbf{Y}_{i+1}-\mathbf{Y}_{i}\\
\mathbf{t}_i^- =  \mathbf{Y}_{i}-\mathbf{Y}_{i-1}\]</div><p>The detailed equations can be found @ [Journal of Chemical Physics 113, 22 (2000)] and [Computer Physics Communications 196 (2015) 335–347].</p><h2 id="Eigenvalue-Method-1"><a class="docs-heading-anchor" href="#Eigenvalue-Method-1">Eigenvalue Method</a><a class="docs-heading-anchor-permalink" href="#Eigenvalue-Method-1" title="Permalink"></a></h2><p>Micromagnetic system and the corresponding atomistic model are the classical system. The resonance frequencies and the spatial resonance modes can be obtained using the eigenvalue method. In JuMag, we implemented a simple eigenvalue method for the following Hamiltonian of the atomistic model</p><div>\[\mathcal{H} = -J \sum_{\langle i, j\rangle} \vec{m}_{i} \cdot \vec{m}_{j} + \sum_{\langle i, j\rangle}  \vec{D}_{i j} \cdot\left(\vec{m}_{i} \times \vec{m}_{j}\right) - K \sum_{i}\left(m_{i}^{z}\right)^{2} - \mu_s \vec{m}_i \cdot \vec{H}\]</div><p>For a given ground state or metastable spin configuration</p><div>\[\vec{m}_0=(\sin\theta \cos \phi, \sin\theta \sin \phi, \cos\theta)^T,\]</div><p>one can construct a local coordinate system such that</p><div>\[\vec{m} = w \vec{m}_0 + u \vec{e}_\theta + v  \vec{e}_\phi,\]</div><p>where <span>$\vec{e}_\theta =(\cos \theta \cos \phi, \cos\theta \sin\phi,-\sin \theta)^T$</span> and <span>$\vec{e}_\phi=(-\sin \phi, \cos\phi,0)^T$</span>. In matrix form,</p><div>\[\begin{bmatrix}
m_x \\ m_y \\ m_z
 \end{bmatrix} =
 \begin{bmatrix}
 \cos \phi \cos \theta &amp; -\sin \phi &amp; \sin \theta \cos \phi \\
 \sin \phi \cos \theta &amp;  \cos \phi &amp; \sin \theta \sin \phi \\
 -\sin \theta &amp; 0 &amp;  \cos \theta \\
 \end{bmatrix}
  \begin{bmatrix}
 u \\ v \\ w
 \end{bmatrix}.\]</div><p>Under this transformation, the unperturbed spin configuration <span>$\vec{m}_0$</span> corresponds to <span>$u=0, v=0$</span> and <span>$w=1$</span>. In this local coordinate, the effective fields are given by</p><div>\[\vec{H}_\mathrm{eff} = - \frac{1}{\mu_s} \frac{\partial \mathcal{H}}{\partial \vec{m}}
= - \frac{1}{\mu_s}\left(  \frac{\partial \mathcal{H}}{\partial w} \vec{m}_0 +
\frac{\partial \mathcal{H}}{\partial u} \vec{e}_\theta + \frac{\partial \mathcal{H}}{\partial v} \vec{e}_\phi \right).\]</div><p>Substituting the effective fields into the LLG equation, we obtain for the case that <span>$\alpha=0$</span></p><div>\[\begin{matrix}
\dot{u} = -\gamma (- w H_v + v H_w),\\
\dot{v} = -\gamma ( w H_u - u H_w),
\end{matrix}\]</div><p>where <span>$H_w$</span>, <span>$H_u$</span> and <span>$H_v$</span> are effective fields along <span>$\vec{m}_0$</span>, <span>$\vec{e}_\theta$</span> and <span>$\vec{e}_\phi$</span>, respectively. To linearize the LLG equation, we assume <span>$|u| \ll 1$</span>, <span>$|v| \ll 1$</span> and thus <span>$w \approx 1- (1/2)(u^2+v^2)$</span>. Moreover, we look for the solutions such that <span>$u=\tilde{u}e^{-i\omega t}$</span> and <span>$v=\tilde{v}e^{-i\omega t}$</span>. Therefore, we arrive at</p><div>\[\begin{matrix}
 -i \omega \mu_s  \tilde{u}  =  \gamma (\tilde{h}_v - \tilde{v} \tilde{H}_w) , \\
-i \omega \mu_s \tilde{v}  =  - \gamma (\tilde{h}_u-\tilde{u} \tilde{H}_w),
\end{matrix}\]</div><p>where we have ignored the higher-order terms. In addition, the above equation can be rewritten in a matrix form~\cite{Lin2014a}</p><div>\[\frac{i \omega \mu_s}{\gamma}  
\begin{bmatrix}
\vec{u} \\ \vec{v}
 \end{bmatrix} = \mathbf{A}  
 \begin{bmatrix}
\vec{u} \\ \vec{v}
 \end{bmatrix},\]</div><p>where we have introduced two vectors <span>$\vec{u}=(\tilde{u}_1, \tilde{u}_2, ..., \tilde{u}_n)^T$</span> and <span>$\vec{v}=(\tilde{v}_1, \tilde{v}_2, ..., \tilde{v}_n)^T$</span>. Therefore, the normal modes of the system can be obtained through solving the eigenvalues of the matrix <span>$\mathbf{A}$</span>. The eigenvalues are pure imaginary numbers since <span>$\omega$</span> is real. The related effective fields are given by</p><div>\[\begin{aligned}
\tilde{H}_w = -(\partial \mathcal{H}^{(0)}/{\partial w}) \big|_{w=1} \\
\tilde{h}_u = -(\partial \mathcal{H}^{(2)}/{\partial u}) \big|_{w=1, u=\tilde{u}, v=\tilde{v}} \\
\tilde{h}_v = -(\partial \mathcal{H}^{(2)}/{\partial v}) \big|_{w=1, u=\tilde{u}, v=\tilde{v}} .
\end{aligned}\]</div><ul><li><p><strong>Exchange interaction</strong></p><div>\[\begin{aligned}
\tilde{H}^\mathrm{ex}_{w, i} = J  \sum_j \left [ \cos \theta_i \cos \theta_j + \sin \theta_i \sin \theta_j  \cos(\phi_i-\phi_j) \right],\\
\tilde{h}^\mathrm{ex}_{u, i} =  J \sum_j \left [ \tilde{u}_j \cos(\phi_i-\phi_j) \cos \theta_i \cos \theta_j + \tilde{u}_j \sin \theta_i \sin \theta_j + \tilde{v}_j \cos\theta_i \sin (\phi_i - \phi_j)  \right], \\
\tilde{h}^\mathrm{an}_{v, i} =   J \sum_j \left [  -\tilde{u}_j \cos\theta_j \sin (\phi_i - \phi_j) + \tilde{v}_j \cos(\phi_i-\phi_j)  \right].
\end{aligned}\]</div></li><li><p><strong>DMI</strong></p><div>\[\begin{aligned}
\tilde{H}^\mathrm{dmi}_{w, i} =  \sum_{j \in X} D_{ij}  \left(  \sin \theta_j \sin \phi_j \cos \theta_i - \sin \theta_i \sin \phi_i \cos \theta_j \right) + \\
   \sum_{j \in Y} D_{ij}  \left(  \sin \theta_i \cos \phi_i \cos \theta_j - \sin \theta_j \cos \phi_j \cos \theta_i  \right) + \\
   \sum_{j \in Z} D_{ij}   \left [  \sin \theta_i \sin \theta_j \sin(\phi_i-\phi_j) \right],
\end{aligned}\]</div><p>where <span>$D_{ij}=D\mathrm{sgn}(j-i)$</span> with <span>$\mathrm{sgn}(x)$</span> the sign function. The sets <span>$X$</span>, <span>$Y$</span> and <span>$Z$</span> represent the neighbours of site <span>$i$</span> in <span>$x$</span>-, <span>$y$</span>- and <span>$z$</span>-axis. Meanwhile, <span>$\tilde{h}^\mathrm{dmi}_{u, i}$</span> and <span>$\tilde{h}^\mathrm{dmi}_{v, i}$</span> are given by</p><div>\[\begin{aligned}
\tilde{h}^\mathrm{dmi}_{u, i} =  \sum_{j \in X} D_{ij} \left(
\tilde{u}_j \sin \theta_j \sin \phi_i \cos \theta_i - \tilde{u}_j \sin \theta_i \sin \phi_j \cos \theta_j - \tilde{v}_j \sin \theta_i \cos\phi_j \right) +\\
\sum_{j\in Y} D_{ij} \left (\tilde{u}_j \sin \theta_i \cos \phi_j \cos \theta_j - \tilde{u}_j \sin \theta_j \cos \phi_i \cos \theta_i - \tilde{v}_j \sin \theta_i \sin\phi_j  \right) + \\
\sum_{j\in Z} D_{ij} \cos \theta_i  \left [ \tilde{u}_j  \cos \theta_j \sin(\phi_i- \phi_j) -\tilde{v}_j \cos(\phi_i-\phi_j)  \right ],\\
\tilde{h}^\mathrm{dmi}_{v, i} = \sum_{j \in X} D_{ij}  \tilde{u}_j \sin \theta_j \cos\phi_i + \textstyle \sum_{j \in Y} D_{ij} \tilde{v}_j \sin \theta_j  \sin\phi_i + \\
                {\sum_{j \in Z}} D_{ij} \left[ \tilde{u}_j  \cos \theta_j  \cos(\phi_i -\phi_j) + \tilde{v}_j \sin (\phi_i-\phi_j) \right].
\end{aligned}\]</div></li><li><p><strong>Anisotropy</strong> For anisotropies with <span>$\mathcal{H}_{an} = - \sum_{i} (K_x m_{x,i}^2 + K_z m_{z,i}^2)$</span>, these fields are given by</p><div>\[\begin{aligned}
\tilde{H}^\mathrm{an}_{w, i} = 2K_x\cos^2 \phi_i \sin^2 \theta_i +  2K_z \cos^2 \theta_i, \\
\tilde{h}^\mathrm{an}_{u, i} =  2K_x \cos \phi_i \cos \theta_i (\tilde{u}_i \cos\phi_i \cos \theta_i - \tilde{v}_i \sin\phi_i) +2 K_z \tilde{u}_i \sin^2\theta_i, \\
\tilde{h}^\mathrm{an}_{v, i} = 2K_x \sin \phi_i (-\tilde{u}_i \cos\phi_i \cos \theta_i + \tilde{v}_i \sin\phi_i ).
\end{aligned}\]</div></li><li><p><strong>Zeeman Field</strong> For a static external field <span>$\vec{H}=(H_x, H_y, H_z)$</span>, one obtains <span>$\tilde{h}_u = \tilde{h}_v = 0$</span> and <span>$\tilde{H}^a_{w, i} = H_z \cos \theta_i + H_x \cos \phi_i \sin \theta_i + H_y \sin \phi_i \sin \theta_i$</span>.</p></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial/">« Tutorial</a><a class="docs-footer-nextpage" href="../notes/">Notes »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 18 April 2020 17:27">Saturday 18 April 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
